<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--namespace用来关联该xml文件所对应的JAVA接口类-->
<mapper namespace="com.example.smartpensionspringboot.cj.mapper.UserMapper">
    <resultMap id="user" type="com.example.smartpensionspringboot.cj.pojos.User">
        <id  column="user_id" property="userId"/>
        <result column="user_name" property="userName"></result>
        <result column="user_pass" property="userPass"></result>
    </resultMap>
    <select id="Login" resultMap="user">
        select * from user_ where user_name=#{userName} and user_pass=#{userPass}
    </select>
    <select id="oldNum" resultType="java.util.Map">
         select count(old_id) zaizhu from rec_old
    </select>
    <select id="waiChu" resultType="java.util.Map">
        select count(v_id) waichu from old_visit where TO_DAYS(v_ctime) = TO_DAYS(NOW());
    </select>
    <select id="ruZhu" resultType="java.util.Map">
        select count(old_id) ruzhu from rec_old where TO_DAYS(join_time) = TO_DAYS(NOW());
    </select>
</mapper>