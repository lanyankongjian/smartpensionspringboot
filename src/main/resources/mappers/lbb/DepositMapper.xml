<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.smartpensionspringboot.lbb.dao.DepositDao">
    <resultMap id="DepositMap" type="com.example.smartpensionspringboot.lbb.pojos.Deposit">
        <id column="id" property="id"/>
        <result property="old_id" column="old_id"/>
        <result property="margin" column="margin"/>
        <result property="get_time" column="get_time"/>
        <result property="return_time" column="return_time"/>
        <result property="state" column="state"/>
        <result property="insert_time" column="insert_time"/>
        <result property="update_time" column="update_time"/>
        <result property="delete_time" column="delete_time"/>
        <association property="old" javaType="com.example.smartpensionspringboot.lbb.pojos.Old">
            <id property="oldId" column="old_id"/>
            <result property="oldName" column="old_name"/>
            <result property="identitycard" column="identitycard"/>
            <result property="gender" column="gender"/>
            <result property="phone" column="phone"/>

        </association>
    </resultMap>
    <select id="getAllDeposit" resultMap="DepositMap">
        SELECT ro.old_name,ro.identitycard,cd.margin,cd.state,cd.get_time,cd.return_time
        FROM rec_old ro
        LEFT JOIN cost_deposit cd ON ro.old_id = cd.old_id
    </select>
</mapper>